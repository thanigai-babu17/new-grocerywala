"use strict";!function(t){var i,n;i=function(){function i(i,n){var s;this.options=n,this.$element=t(i),this.didInit=!1,s=this,this.$element.on("click.slickLightbox",this.options.itemSelector,function(i){var n,o;if(i.preventDefault(),(n=t(this)).blur(),"function"!=typeof s.options.shouldOpen||s.options.shouldOpen(s,n,i))return o=s.$element.find(s.options.itemSelector),s.elementIsSlick()&&(o=s.filterOutSlickClones(o),n=s.handlePossibleCloneClick(n,o)),s.init(o.index(n))})}return i.prototype.init=function(t){return this.didInit=!0,this.detectIE(),this.createModal(),this.bindEvents(),this.initSlick(t),this.open()},i.prototype.createModalItems=function(){var i,n,s,o,e,l,r,c;return(o=this.options.lazyPlaceholder||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",s=function(t,i,n){var s;return'<div class="slick-lightbox-slick-item">\n  <div class="slick-lightbox-slick-item-inner">\n    <img class="slick-lightbox-slick-img" '+(s=!0===n?' data-lazy="'+t+'" src="'+o+'" ':' src="'+t+'" ')+" />\n    "+i+"\n  </div>\n</div>"},this.options.images)?l=t.map(this.options.images,(r=this,function(t){return s(t,r.options.lazy)})):(e=(i=this.filterOutSlickClones(this.$element.find(this.options.itemSelector))).length,n=(c=this,function(t,i){var n,o,l;return o={index:i,length:e},n=c.getElementCaption(t,o),s(l=c.getElementSrc(t),n,c.options.lazy)}),l=t.map(i,n)),l},i.prototype.createModal=function(){var i,n;return n=this.createModalItems(),i='<div class="slick-lightbox slick-lightbox-hide-init'+(this.isIE?" slick-lightbox-ie":"")+'" style="background: '+this.options.background+';">\n  <div class="slick-lightbox-inner">\n    <div class="slick-lightbox-slick slick-caption-'+this.options.captionPosition+'">'+n.join("")+"</div>\n  <div>\n<div>",this.$modalElement=t(i),this.$parts={},this.$parts.closeButton=t(this.options.layouts.closeButton),this.$modalElement.find(".slick-lightbox-inner").append(this.$parts.closeButton),t("body").append(this.$modalElement)},i.prototype.initSlick=function(i){var n;return n={initialSlide:i},this.options.lazy&&(n.lazyLoad="ondemand"),null!=this.options.slick?"function"==typeof this.options.slick?this.slick=this.options.slick(this.$modalElement):this.slick=this.$modalElement.find(".slick-lightbox-slick").slick(t.extend({},this.options.slick,n)):this.slick=this.$modalElement.find(".slick-lightbox-slick").slick(n),this.$modalElement.trigger("init.slickLightbox")},i.prototype.open=function(){var t;return this.options.useHistoryApi&&this.writeHistory(),this.$element.trigger("show.slickLightbox"),setTimeout((t=this,function(){return t.$element.trigger("shown.slickLightbox")}),this.getTransitionDuration()),this.$modalElement.removeClass("slick-lightbox-hide-init")},i.prototype.close=function(){var t;return this.$element.trigger("hide.slickLightbox"),setTimeout((t=this,function(){return t.$element.trigger("hidden.slickLightbox")}),this.getTransitionDuration()),this.$modalElement.addClass("slick-lightbox-hide"),this.destroy()},i.prototype.bindEvents=function(){var i,n,s,o,e,l,r,c;if(i=(n=this,function(){var t;return t=n.$modalElement.find(".slick-lightbox-inner").height(),n.$modalElement.find(".slick-lightbox-slick-item").height(t),n.$modalElement.find(".slick-lightbox-slick-img, .slick-lightbox-slick-item-inner").css("max-height",Math.round(n.options.imageMaxHeight*t))}),t(window).on("orientationchange.slickLightbox resize.slickLightbox",i),this.options.useHistoryApi&&t(window).on("popstate.slickLightbox",(s=this,function(){return s.close()})),this.$modalElement.on("init.slickLightbox",i),this.$modalElement.on("destroy.slickLightbox",(o=this,function(){return o.destroy()})),this.$element.on("destroy.slickLightbox",(e=this,function(){return e.destroy(!0)})),this.$parts.closeButton.on("click.slickLightbox touchstart.slickLightbox",(l=this,function(t){return t.preventDefault(),l.close()})),(this.options.closeOnEscape||this.options.navigateByKeyboard)&&t(document).on("keydown.slickLightbox",(r=this,function(t){var i;if(i=t.keyCode?t.keyCode:t.which,r.options.navigateByKeyboard&&(37===i?r.slideSlick("left"):39===i&&r.slideSlick("right")),r.options.closeOnEscape&&27===i)return r.close()})),this.options.closeOnBackdropClick)return this.$modalElement.on("click.slickLightbox touchstart.slickLightbox",".slick-lightbox-slick-img",function(t){return t.stopPropagation()}),this.$modalElement.on("click.slickLightbox",".slick-lightbox-slick-item",(c=this,function(t){return t.preventDefault(),c.close()}))},i.prototype.slideSlick=function(t){return"left"===t?this.slick.slick("slickPrev"):this.slick.slick("slickNext")},i.prototype.detectIE=function(){var t;if(this.isIE=!1,/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&(t=new Number(RegExp.$1))<9)return this.isIE=!0},i.prototype.getElementCaption=function(i,n){var s;return this.options.caption?'<span class="slick-lightbox-slick-caption">'+(s=(function(){switch(typeof this.options.caption){case"function":return this.options.caption(i,n);case"string":return t(i).data(this.options.caption)}}).call(this))+"</span>":""},i.prototype.getElementSrc=function(i){switch(typeof this.options.src){case"function":return this.options.src(i);case"string":return t(i).attr(this.options.src);default:return i.href}},i.prototype.unbindEvents=function(){return t(window).off(".slickLightbox"),t(document).off(".slickLightbox"),this.$modalElement.off(".slickLightbox")},i.prototype.destroy=function(t){if(null==t&&(t=!1),this.didInit){var i;this.unbindEvents(),setTimeout((i=this,function(){return i.$modalElement.remove()}),this.options.destroyTimeout)}if(t)return this.$element.off(".slickLightbox"),this.$element.off(".slickLightbox",this.options.itemSelector)},i.prototype.destroyPrevious=function(){return t("body").children(".slick-lightbox").trigger("destroy.slickLightbox")},i.prototype.getTransitionDuration=function(){var t;return this.transitionDuration?this.transitionDuration:void 0===(t=this.$modalElement.css("transition-duration"))?this.transitionDuration=500:this.transitionDuration=t.indexOf("ms")>-1?parseFloat(t):1e3*parseFloat(t)},i.prototype.writeHistory=function(){return"undefined"!=typeof history&&null!==history&&"function"==typeof history.pushState?history.pushState(null,null,""):void 0},i.prototype.filterOutSlickClones=function(i){return this.elementIsSlick()?i=i.filter(function(){var i;return!(i=t(this)).hasClass("slick-cloned")&&0===i.parents(".slick-cloned").length}):i},i.prototype.handlePossibleCloneClick=function(i,n){var s;return this.elementIsSlick()&&i.closest(".slick-slide").hasClass("slick-cloned")?(s=i.attr("href"),n.filter(function(){return t(this).attr("href")===s}).first()):i},i.prototype.elementIsSlick=function(){return this.$element.hasClass("slick-slider")},i}(),n={background:"rgba(0,0,0,.8)",closeOnEscape:!0,closeOnBackdropClick:!0,destroyTimeout:500,itemSelector:"a",navigateByKeyboard:!0,src:!1,caption:!1,captionPosition:"dynamic",images:!1,slick:{},useHistoryApi:!1,layouts:{closeButton:'<button type="button" class="slick-lightbox-close"></button>'},shouldOpen:null,imageMaxHeight:.9,lazy:!1},t.fn.slickLightbox=function(s){return s=t.extend({},n,s),t(this).each(function(){return this.slickLightbox=new i(this,s)}),this},t.fn.unslickLightbox=function(){return t(this).trigger("destroy.slickLightbox").each(function(){return this.slickLightbox=null})}}(jQuery);